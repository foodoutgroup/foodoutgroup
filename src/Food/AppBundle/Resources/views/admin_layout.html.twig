{# File src/Acme/Bundle/DemoBundle/Resources/views/standard_layout.html.twig #}
{% extends 'SonataAdminBundle::standard_layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <meta name="msapplication-config" content="none"/>

    {% stylesheets 'bundles/foodapp/styles/admin_style.css' filter="cssrewrite" %}
    <link rel="stylesheet" href="{{ asset_url }}" type="text/css"  />
    {% endstylesheets %}
    {% stylesheets '@FoodAppBundle/Resources/public/styles/jquery.loadmask.css'  %}
    <link rel="stylesheet" href="{{ asset_url }}" type="text/css"  />
    {% endstylesheets %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="application/javascript">
        var systemLocale = "{{ locale }}";
    </script>
    <script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
    <script src="{{ path('fos_js_routing_js', {"callback": "fos.Router.setData"}) }}"></script>
    <script src="{{ asset('bundles/foodapp/js_admin/jquery_admin.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/foodapp/scripts/jquery.loadmask.min.js') }}"></script>
    {# CKeditor for any field, not just type ckeditor..#}
    <script type="text/javascript">
        var CKEDITOR_BASEPATH = '\x2Fbundles\x2Ftrsteelckeditor\x2F';
    </script>
    <script src="{{ asset('bundles/trsteelckeditor/ckeditor.js') }}" type="text/javascript"></script>
    {# Attach editors to custom hacked fields with custom configuration #}
    <script type="text/javascript">
        $(document).ready(function(){
            var areas = $('textarea.ckeditor_custom');

            if (areas.length) {
                areas.each(function(key, area) {
                    CKEDITOR.replace( $(area).attr('id'), {
                        language: '{{ locale }}',
                        width: '622',
                        height: '250',
                        uiColor: '#FFFFFF',
                        toolbar: [
                            { name: 'document',	 items: ['Source', 'Font', 'FontSize'] },
                            { name: 'clipboard',   items: ['Cut','Copy','Paste','PasteText','PasteFromWord','-','Undo','Redo'] },
                            { name: 'editing',   items: ['Find','Replace','SelectAll'] },
                            '/',
                            { name: 'basicstyles', items: ['Bold','Italic','Underline','Strike','Subscript','Superscript','RemoveFormat'] },
                            { name: 'paragraph', items: ['NumberedList','BulletedList','Outdent','Indent','JustifyLeft', 'JustifyCenter','JustifyRight','JustifyBlock'] },
                            { name: 'links', items: ['Link','Unlink','Anchor'] },
                            { name: 'tools', items: ['Maximize', 'ShowBlocks'] }
                        ]
                    });
                });
            }
        });
    </script>
{% endblock %}

{%  block footer %}
    {# Nerodome sonatos logo :) #}
{% endblock %}